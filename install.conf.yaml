- defaults:
    crossplatform-link:
      relink: true
      fallback_to_copy: true
      create: true
      glob: true
      force: true

- shell:
    - [
        git submodule update --init --recursive,
        Updating submodules to newest versions,
      ]

- clean: ["~"]

- crossplatform-link:
    - ~/: links/common/**
    - ~/bin/lib: diff-so-fancy/lib
    - ~/bin/diff-so-fancy: diff-so-fancy/diff-so-fancy
    - ~/:
        path: links/linux/**
        platform: linux
        fallback_to_copy: false
        force: false
    - ~/:
        path: links/linux-desktop/**
        environment: DESKTOP_SESSION
        fallback_to_copy: false
        force: false
    - ~/:
        path: local/wsl/**
        environment: "WSL_INTEROP"
        fallback_to_copy: false
        force: false
    - ~/:
        path: local/linux/**
        environment: "!WSL_INTEROP"
        platform: linux
        fallback_to_copy: false
        force: false
    - ~/:
        path: links/windows/**
        platform: win32
    - ~/:
        path: local/windows/**
        platform: win32

- crontab:
    - time: 1 6 * * *
      command: ~/bin/rdiffbackupdaily.sh
      platform: linux
    - time: 2 6 * * 3
      command: ~/bin/rdiffbackupweekly.sh
      platform: linux
    - time: 2 6 1 * *
      command: ~/bin/rdiffbackupmonthly.sh
      platform: linux
    - time: 2 6 2 * *
      command: ~/bin/rdiffbackupcleanup.sh
      platform: linux
